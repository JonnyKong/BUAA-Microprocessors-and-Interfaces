DATA SEGMENT
	X DB ?
	ADDRESS EQU 298H
DATA ENDS

STACK SEGMENT STACK
	DB 100 DUP(0)
STACK ENDS

CODE SEGMENT
	ASSUME CS:CODE, DS:DATA, SS:STACK
MAIN PROC
	MOV AX, DATA
	MOV DS, AX
	AGAIN: MOV DX, ADDRESS
	OUT DX, AL
	CALL DELAY
	IN AL, DX
	MOV X, AL
	MOV X, 5BH
	CALL DISP2
	MOV AH, 6
	MOV DL, 0FFH
	INT 21H
	JZ AGAIN
	MOV AH, 4CH
	INT 21H
MAIN ENDP

DELAY PROC
	PUSH CX
	MOV CX, 0
	NEXT0: LOOP NEXT0
	POP CX
	RET
DELAY ENDP

DISP PROC
	MOV DL, X
	MOV CL, 4
	SHR DL, CL
	CMP DL, 9
	JBE NEXT1
	ADD DL, 7
	NEXT1: ADD DL, 48
	MOV AH, 2
	INT 21H
	MOV DL, X
	AND DL, 0FH
	CMP DL, 9
	JBE NEXT2
	ADD DL, 7
	NEXT2: ADD DL, 48
	MOV AH, 2
	INT 21H
	MOV DL, 'H'
	MOV AH, 2
	INT 21H
	MOV DL, ' '
	MOV AH, 2
	INT 21H
	RET
DISP ENDP

DISP2 PROC
	MOV AL, X
	MOV AH, 0
	MOV BL, 100
	DIV BL
	MOV DL, AL
	ADD DL, 48
	PUSH AX	;SAVE RESIDUAL
	MOV AH, 2
	INT 21H
	POP AX
	MOV AL, AH
	MOV AH, 0
	MOV BL, 10
	DIV BL
	MOV DL, AL
	MOV AL, AH
	PUSH AX
	ADD DL, 48
	MOV AH, 2
	INT 21H
	POP DX
	ADD DL, 48
	MOV AH, 2
	INT 21H
	MOV DL, ' '
	MOV AH, 2
	INT 21H
	RET
DISP2 ENDP

CODE ENDS
	END MAIN